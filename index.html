<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>THE TOFU - 豆腐守り</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="lobby-screen" class="screen">
        <h1 class="title">🛡️ THE TOFU</h1>
        <p class="warning">⚠️ 音量MAX推奨 / マナーモード解除 ⚠️</p>
        
        <div id="setup-ui">
            <input type="text" id="username-input" placeholder="名前を入力 (必須)" maxlength="8">
            
            <input type="text" id="room-code-input" placeholder="部屋コード (参加時)" maxlength="6">
            
            <div class="btn-group">
                <button class="btn primary" id="create-btn">部屋を作る</button>
                <button class="btn secondary" id="join-btn">部屋に入る</button>
            </div>
        </div>

        <div id="waiting-ui" class="hidden">
            <div id="code-container" onclick="copyRoomCode()">
                <span class="code-label">ROOM CODE</span>
                <h2 id="room-display">------</h2>
                <span class="copy-hint">📋 タップしてコピー</span>
                <span id="copy-tooltip">コピー完了!</span>
            </div>

            <div class="member-list">
                <p>現在の参加者: <span id="member-count">1</span>人</p>
                <ul id="member-names-list"></ul>
            </div>
            
            <p class="instruction">全員揃ったら下のボタンを押せ</p>
            <button class="btn gold" id="to-ready-btn">👉 全員、豆腐の準備へ！</button>
        </div>
    </div>

    <div id="game-screen" class="screen hidden">
        <div id="status-message">指を置け...</div>
        
        <div id="game-area">
            <img id="tofu-img" src="tofu.png" alt="Tofu">
        </div>

        <div id="ready-status">
            準備完了: <span id="ready-count">0</span> / <span id="total-count">0</span>
        </div>
    </div>

    <div id="result-screen" class="screen hidden">
        <h1 class="game-over">GAME OVER</h1>
        <div id="criminal-area">
            <img src="dead.png" alt="Dead" class="dead-img">
            <h2 id="traitor-name">戦犯: ???</h2>
        </div>
        <button class="btn retry" onclick="location.reload()">もう一度やる</button>
    </div>

    <script type="module" src="game.js"></script>
</body>
</html>
